## kafka
#### 실시간으로 기록 스트림을 게시, 구독, 저장 및 처리할 수 있는 분산형 데이터 스트리밍 플랫폼

## 사용 이유 
1. 모든 시스템으로 데이터를 전송할 수 있음
2. 실시간 처리 가능
3. 급속도로 성장하는 서비스를 위해 확장이 용이함

## pub/sub 모델을 기반으로 만들어진 메시징 시스템
> "메시징 시스템"
> <br>
> <br>
> 💭 log data, 이벤트 메시지 등 API로 호출할 때 보내는 데이터들을 처리하는 시스템


>"pub / sub"
> <br>
> <br> 
> 💭 중앙에 메시징 시스템 서버를 두고, 메시지를 보내고(publish) 받는(subscribe) 형태의 통신
> <br>
> 💭 구독을 신청한 수신자만 메시지를 전달받을 수 있음
> <br>
> 💭 개체가 빠지거나 수신 불능이 되도, 메시징 시스템만 살아있으면 전달한 메시지 유실 X
> <br>
> 💭 N:M으로 연결되는 것이 아니기 때문에 확장성 용이


## 카프카 작동 방식
> 1. producer가 새로운 메시지를 kafka로 보냄
> 2. producer가 보낸 메시지는 kafka에 consumer que(카프카 기준 토픽)에 도착해 저장됨
> 3. consumer는 kafka 서버에 접속해 새로운 메시지를 가져감

## Kafka 관련 용어 정리

### 카프카 (Kafka)
<strong>Apache Kafka : 분산 스트리밍 플랫폼</strong>
<br>실시간 데이터 피드를 처리하고 저장하는 데 사용. 카프카는 클러스터로 구성되며, 여러 브로커가 협력하여 데이터를 저장하고 전달함.

### 브로커 (Broker)
<strong>Kafka 클러스터 내에서 데이터를 저장하고 전달하는 서버</strong>
<br> 브로커는 클러스터의 일부로 동작하며, 클러스터에 여러 개의 브로커가 있을 수 있음. 브로커는 데이터를 파티션으로 나누어 저장하고, 클라이언트의 요청을 처리함.

### 토픽 (Topic)
<strong>Kafka의 메시지 카테고리 또는 데이터 스트림</strong>
<br> 프로듀서가 보낸 메시지는 특정 토픽에 저장, 컨슈머는 이 토픽을 구독하여 메시지를 소비. 토픽을 사용하면 다양한 유형의 데이터를 그룹화하고, 관리하기가 용이해짐.

### 파티션 (Partition)
<strong>토픽의 데이터를 물리적으로 분산하여 저장할 수 있는 단위</strong>
<br>파티션은 병렬 처리를 가능하게 하고, 데이터의 스케일 아웃을 지원. 각 파티션은 순서가 보장되는 로그를 가지고 있으며, 프로듀서와 컨슈머는 특정 파티션에 접근하여 데이터를 읽고 쓸 수 있음.

### 프로듀서 (Producer)
<strong>Kafka 클러스터에 데이터를 전송하는 클라이언트 애플리케이션 또는 서버</strong>
<br> 프로듀서는 특정 토픽에 메시지를 보내며, 이 메시지는 토픽의 파티션에 저장됨.

### 컨슈머 (Consumer)
<strong>Kafka 클러스터에서 데이터를 읽어오는 클라이언트 애플리케이션 또는 서버</strong>
<br>컨슈머는 하나 이상의 토픽을 구독하고, 해당 토픽의 메시지를 가져와 처리. 컨슈머는 메시지의 처리 상태를 트래킹하기 위해 오프셋을 사용함.

### 컨슈머 그룹 (Consumer Group)
<strong>하나 이상의 컨슈머가 함께 협력하여 데이터를 처리하는 논리적 그룹</strong>
<br>컨슈머 그룹 내의 각 컨슈머는 파티션을 분배받아 병렬로 처리함 이는 데이터의 부하를 분산시키고, 장애 조치(fault tolerance)를 지원함.

### 오프셋 (Offset)
<strong>각 파티션에서 메시지의 위치를 나타내는 고유한 식별자</strong>
컨슈머는 오프셋을 사용하여 자신이 처리한 마지막 메시지의 위치를 기록하고, 이후 메시지를 계속해서 읽어올 수 있음.